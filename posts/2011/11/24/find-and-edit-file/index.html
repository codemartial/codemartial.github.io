<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>Find and Edit File, by Tahir Hashmi</title><meta name=description content><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=canonical href=https://tahirhashmi.com/posts/2011/11/24/find-and-edit-file/><meta property="og:title" content="Find and Edit File"><meta property="og:description" content="While working on a huge code-base with several thousand source files, it becomes difficult to remember where each file is. If you use conventions like one file per class, you can at least figure out the file name. E.g. the definition of class Foo would be found in Foo.class.xx or something like that.
Thankfully, ack makes it easy to find the location files in a project. Just say, ack -g Foo."><meta property="og:type" content="article"><meta property="og:url" content="https://tahirhashmi.com/posts/2011/11/24/find-and-edit-file/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2011-11-24T10:28:09+00:00"><meta property="article:modified_time" content="2023-02-16T19:53:03+07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Find and Edit File"><meta name=twitter:description content="While working on a huge code-base with several thousand source files, it becomes difficult to remember where each file is. If you use conventions like one file per class, you can at least figure out the file name. E.g. the definition of class Foo would be found in Foo.class.xx or something like that.
Thankfully, ack makes it easy to find the location files in a project. Just say, ack -g Foo."><meta itemprop=name content="Find and Edit File"><meta itemprop=description content="While working on a huge code-base with several thousand source files, it becomes difficult to remember where each file is. If you use conventions like one file per class, you can at least figure out the file name. E.g. the definition of class Foo would be found in Foo.class.xx or something like that.
Thankfully, ack makes it easy to find the location files in a project. Just say, ack -g Foo."><meta itemprop=datePublished content="2011-11-24T10:28:09+00:00"><meta itemprop=dateModified content="2023-02-16T19:53:03+07:00"><meta itemprop=wordCount content="293"><meta itemprop=keywords content="ack,bash,scripting,tools,"><link rel=alternate type=application/rss+xml href=https://tahirhashmi.com/posts/index.xml title="Tahir Hashmi"><link rel=stylesheet href=/assets/css/main.min.9857ebdb77bb5fc08eb13b63f295585ac3d93cb7e69149053482a895118f7636.css media=all><link rel=preload as=font href=/fonts/Probert.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/ProbertBold.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/Oxanium.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/BerkeleyMonoVariable-Regular.woff2 type=font/woff2 crossorigin=anonymous><script defer src=/assets/js/main.min.35e33a864dbe04f338d5c5bb84090b1891b3f1dd3c2b651aa0317abcffc176b5.js></script></head><body class=page><div id=headline><h1>Find and Edit File</h1></div><div id=content><main><article><time datetime="2011-11-24 10:28:09 +0000 UTC" itemprop=datePublished>November 24, 2011</time><p>While working on a huge code-base with several thousand source files, it becomes difficult to remember where each file is. If you use conventions like one file per class, you can at least figure out the file name. E.g. the definition of class <code>Foo</code> would be found in <code>Foo.class.xx</code> or something like that.</p><p>Thankfully, <a href=http://betterthangrep.com target=_blank>ack</a> makes it easy to find the location files in a project. Just say, <code>ack -g Foo.class</code> and voila! it tells you to dig in <code>modules/frob/model/include/Foo.class.xx</code> or whatever abominable directory hierarchy it may be embedded in. So when you decide to kill that error at line 324 of class Foo, all you need to do is:</p><p><code>vim `ack -g Foo.class` +324</code></p><p>Unfortunately, typing this out is a bit tedious as well, so we bring in a little shell script (I call it <code>vis</code>, for <strong>vi</strong> m on <strong>s</strong> earched filename):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#75715e># Search and edit files. Use it like:</span>
</span></span><span style=display:flex><span><span style=color:#75715e># $ vis Foo.bar [...]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> $# -lt <span style=color:#ae81ff>1</span> <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>exit 255;
</span></span><span style=display:flex><span><span style=color:#66d9ef>fi</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>fname<span style=color:#f92672>=</span>$1;
</span></span><span style=display:flex><span>shift;
</span></span><span style=display:flex><span>vim <span style=color:#e6db74>`</span>ack -g <span style=color:#ae81ff>\\\b</span><span style=color:#e6db74>${</span>fname<span style=color:#e6db74>}</span><span style=color:#f92672>[</span>^<span style=color:#ae81ff>\/</span><span style=color:#f92672>]</span>*<span style=color:#ae81ff>\$</span> | head -1<span style=color:#e6db74>`</span> $@
</span></span></code></pre></div><p>This will invoke <code>vim</code> with the first filename that ack returns for the filename pattern (yes, it can be a Perl regex), and you can pass all other <code>vim</code> arguments as usual after the file name. Nifty, eh? The regex above will match file names starting with the given search pattern (with some caveats).</p><p>PS: It’s not too hard to make the script choose the editor dynamically, but people usually love to use one editor consistently. I use both Emacs and Vim, so I’m planning to make this script take the editor as an argument and have two convenient aliases, one each for <code>vim</code> and <code>emacsclient</code> which will handle passing the editor as an argument.</p></article><div style=display:flex;width:100%><div style=width:50%><p style=text-align:left>Previous Post:<br><a href=https://tahirhashmi.com/posts/2011/09/19/new-start-up-idea/>Need a new Start-up Idea? Mash up Social and Cloud</a></p></div><div style=width:50%><p style=text-align:right>Next Post:<br><a href=https://tahirhashmi.com/posts/2012/02/15/high-on-lo-fi/>High on Lo-Fi</a></p></div></div></main></div><div id=sidebar><nav class=sidebar-nav><ul><li><a class=sidebar-nav-item href=/posts/ title=Articles>Articles</a></li><li><a class=sidebar-nav-item href=/about/ title=About>About</a></li><li><a class=sidebar-nav-item href=/photos/ title=Photos>Photos</a></li><li><a class=sidebar-nav-item href=/categories/opinion/ title=opinion>opinion</a></li><li><a class=sidebar-nav-item href=/categories/photography/ title=photography>photography</a></li><li><a class=sidebar-nav-item href=/categories/programming/ title=programming>programming</a></li><li><a class=sidebar-nav-item href=/categories/reviews/ title=reviews>reviews</a></li><li><a class=sidebar-nav-item href=/categories/technology/ title=technology>technology</a></li></ul><div id=fastSearch><span id=cursor><input id=searchInput tabindex=0 placeholder=search></span><ul id=searchResults></ul></div></nav></div><div id=section2><p><a href=https://tahirhashmi.com/posts/>Articles</a></p></div><div id=logo><a href=/><svg id="svgLogo" baseProfile="full" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 400 100" preserveAspectRatio="xMidYMid"><radialGradient id="logoGradient"><stop offset="30%" stop-color="#00ff80"/><stop offset="67%" stop-color="#00c000"/><stop offset="100%" stop-color="#606000"/></radialGradient><polygon points="0, 67 160, 0 200, 100 240, 0 400, 67 240, 33 200, 67 160, 33" fill="url(#logoGradient)"/></svg></a></div><div id=space><p>Tahir Hashmi</p></div><footer id=footer>mail@tahirhashmi.com
| <a href=https://flickr.com/photos/code_martial/>Flickr</a>
| <a href=https://github.com/codemartial>Github</a>
| <a href=https://www.linkedin.com/in/tahirhashmi>LinkedIn</a>
| <a href=https://twitter.com/code_martial>Twitter</a>
| <a href=https://tahirhashmi.com/posts/index.xml type=.mediatype.type rel=.rel>RSS</a> | &copy; 2022 Tahir Hashmi. All rights reserved.</footer><div class=splash></div><div class=glow></div></body></html>