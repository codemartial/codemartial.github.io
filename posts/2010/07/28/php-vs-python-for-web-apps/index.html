<!doctype html><html lang=en-gb><head><meta charset=utf-8><meta name=viewport content="width=device-width"><title>PHP vs. Python for Web Apps, by Tahir Hashmi</title><meta name=description content><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=canonical href=https://tahirhashmi.com/posts/2010/07/28/php-vs-python-for-web-apps/><meta property="og:title" content="PHP vs. Python for Web Apps"><meta property="og:description" content="These days, more and more people ask the Python vs. PHP question when they start out with a web application from scratch. I’ve developed PHP applications for 5 years but for the last couple of years I’ve been doing Python. This post is meant to note some of my observations. If you don’t want to read the whole of it, my opinion — opinion — is to stick with PHP for dishing out your *ML."><meta property="og:type" content="article"><meta property="og:url" content="https://tahirhashmi.com/posts/2010/07/28/php-vs-python-for-web-apps/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2010-07-28T12:00:42+00:00"><meta property="article:modified_time" content="2023-03-23T08:52:26+07:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="PHP vs. Python for Web Apps"><meta name=twitter:description content="These days, more and more people ask the Python vs. PHP question when they start out with a web application from scratch. I’ve developed PHP applications for 5 years but for the last couple of years I’ve been doing Python. This post is meant to note some of my observations. If you don’t want to read the whole of it, my opinion — opinion — is to stick with PHP for dishing out your *ML."><meta itemprop=name content="PHP vs. Python for Web Apps"><meta itemprop=description content="These days, more and more people ask the Python vs. PHP question when they start out with a web application from scratch. I’ve developed PHP applications for 5 years but for the last couple of years I’ve been doing Python. This post is meant to note some of my observations. If you don’t want to read the whole of it, my opinion — opinion — is to stick with PHP for dishing out your *ML."><meta itemprop=datePublished content="2010-07-28T12:00:42+00:00"><meta itemprop=dateModified content="2023-03-23T08:52:26+07:00"><meta itemprop=wordCount content="1042"><meta itemprop=keywords content="architecture,mvc,php,python,webapps,webservices,"><link rel=alternate type=application/rss+xml href=https://tahirhashmi.com/posts/index.xml title="Tahir Hashmi"><link rel=stylesheet href=/assets/css/main.min.b2c12bad96fd15efcbfc37e21ebae08ed0baea4b512e4f98b3ef63db6c6e8652.css media=all><link rel=preload as=font href=/fonts/Probert.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/ProbertBold.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/Oxanium.woff2 type=font/woff2 crossorigin=anonymous><link rel=preload as=font href=/fonts/BerkeleyMonoVariable-Regular.woff2 type=font/woff2 crossorigin=anonymous><script defer src=/assets/js/main.min.35e33a864dbe04f338d5c5bb84090b1891b3f1dd3c2b651aa0317abcffc176b5.js></script></head><body class=page><div id=headline><h1>PHP vs. Python for Web Apps</h1></div><div id=content><main><article><time datetime="2010-07-28 12:00:42 +0000 UTC" itemprop=datePublished>July 28, 2010</time><p>These days, more and more people ask the Python vs. PHP question when they start out with a web application from scratch. I’ve developed PHP applications for 5 years but for the last couple of years I’ve been doing Python. This post is meant to note some of my observations. If you don’t want to read the whole of it, my opinion — <em>opinion</em> — is to stick with PHP for dishing out your *ML. Use Python in the back-end, if you must.</p><h2 id=production-worthiness>Production Worthiness</h2><p>In terms of production stability and ubiquity, Python is still playing catch-up to PHP. PHP derives a huge benefit from its custom fit into the web development model, whereas Python is a general purpose language, with an adaptor for web development, called WSGI. PHP doesn’t do multi-threading, which is a great way to guide developers in a “shared nothing” line of thought. PHP and apache also work together to protect you from a lot of issues — you can enforce a limit on the memory your script uses for each request. Memory leaks are not a bother, thanks to periodic reaping of apache processes if you use the default <code>prefork</code> MPM and set <code>MaxRequestsPerChild</code> to a sane value (default is 4000).</p><p>Most Python web application frameworks would like you to build multi-threaded applications and recommend that you run your Python application as a daemon. From what I’ve seen so far, you really don’t want to be doing this. Multi-threading is not easy to begin with. Then there’s the GIL, which basically prevents a single Python daemon from utilising multiple CPUs and/or cores at the same time. That’s enough to be a show-stopper for an application being written in 2010. Third, I’ve seen random lock-ups, and slow memory leaks happen with Python daemons under the kind of production loads a small website may encounter (~ 1 Mbps network I/O; 20 reqs/sec).</p><p>The model that I would recommend is to run your Python application embedded in apache process space through <code>mod_wsgi</code>. This primarily ensures that you don’t need to <code>renice</code> up the priority of your Python daemon process to give it sufficient CPU time-share while under load and, more importantly, it enables the <code>MaxRequestsPerChild</code> clean-up mechanism.</p><h2 id=runtime-model>Runtime Model</h2><p>In terms of runtime model, one of the things to keep under consideration is that PHP would load all of its extensions, whether or not they’re used, while Python modules are loaded on demand. The PHP scenario is not too bad, though, since the memory usage is shared across all child processes, not multiplied across them. One of the differences that don’t stand out but are significant is that PHP’s extension library is almost all written in C, whereas Python libraries are not, to a very large extent. Many Python frameworks choose to implement a lot of important stuff like data structures in native Python. Given that a typical web application spends most of its time iterating through records from a database and doing various manipulations on it, having core functionality implemented in the script is not optimal. Python templates make the whole situation even worse.</p><p>That said, if you want to bet on the future, the JIT compilers being developed for Python might help you out. Then there’s HipHop for PHP.</p><h2 id=development-models>Development Models</h2><p>One of the big reasons for Python’s attractiveness as a development platform, apart from syntax and language features, is the presence of <a href=http://rubyonrails.org target=_blank>Ruby On Rails</a> inspired frameworks. The most popular among them is <a href=http://www.djangoproject.com target=_blank>Django</a>, but I’ve also developed on <a href=http://www.pylonshq.com target=_blank>Pylons</a> and <a href=http://werkzeug.pocoo.org target=_blank>Werkzeug</a>. I won’t list down the reasons why these frameworks are attractive, but they’re very good from a development model perspective.</p><p>PHP too has frameworks but they seem extremely loaded and superfluous to me. PHP itself is <em>the framework</em> for web development. It offers templating, it offers routing and it has a rich library of web development helpers. What it doesn’t do is a couple of things:</p><ul><li><p>enforce MVC model out-of-the-box. You can write your entire application in one file and do it easily to start with</p></li><li><p>play well with the (IMO highly retarded) Java and GoF Patterns style of object oriented programming</p></li></ul><p>One large application that I’ve worked on had thousands of files, each corresponding to a PHP class, with layers upon layers of wrapper classes without much individual responsibility. Some poor code organisation decisions also led to a scenario where each user facing page ended up including almost all of the 100k lines of PHP in the application.</p><p>Python would, to some extent, let you get away with this atrocity. More importantly, though, if you’re using the web frameworks, it could effectively prevent you from landing up in such a situation to begin with. If you know enough of MVC and shared-nothing fu, I think it’s worthwhile going with PHP as of now, if only for performance concerns.</p><h2 id=how-about-php-_and_-python>How About PHP <em>and</em> Python?</h2><p>Like I mentioned, one of the big reasons for using Python for web applications is the development model and the programming language capabilities itself. PHP takes care of the ‘V’ and ‘C’ parts of MVC but trying to write complicated models in PHP can lead you to pushing at the limits of the language’s development model.</p><p>One of the development models I am exploring (and have working in production already) is a two-tier application layer. The “model” lives as a separate tier of the application, accessed through JSON-HTTP services. The “front-end” is done entirely in PHP and is only responsible for generating web pages and handling browser-based interaction. This model has two benefits:</p><ol><li><p>The ‘front-end’ runtime is completely decoupled from the ‘back-end’, whether it be complexity, performance or scaling concerns</p></li><li><p>You get <a href=http://developer.lulu.com/docs/RatingReviews/ target=_blank>usable webservice APIs</a> right out of the box.</p></li></ol><p>Someone’s quipped that not having APIs in 2009 is like not having a website in 1999. I wouldn’t disagree. Every web application that I’ve built since 2004 has eventually had to support some kind of APIs. That’s essentially the reason for <a href=http://code.google.com/p/wsloader/ target=_blank>wsloader</a>‘s existence. It allows you to write your super heavy-duty back-end in Python, while requiring you to provide a portable interface, which it can automatically expose as a JSON-HTTP web-service. Writing 1000 words to make a plug seems preposterous, and probably is, so please don’t consider this as a plug!</p></article><div style=display:flex;width:100%><div style=width:50%><p style=text-align:left>Previous Post:<br><a href=https://tahirhashmi.com/posts/2010/06/30/mysqldb-leaks-memory/>MySQLdb Leaks Memory</a></p></div><div style=width:50%><p style=text-align:right>Next Post:<br><a href=https://tahirhashmi.com/posts/2010/07/31/hello-world-2/>Take Two</a></p></div></div></main></div><div id=sidebar><nav class=sidebar-nav><ul><li><a class=sidebar-nav-item href=/posts/ title=Articles>Articles</a></li><li><a class=sidebar-nav-item href=/about/ title=About>About</a></li><li><a class=sidebar-nav-item href=/photos/ title=Photos>Photos</a></li><li><a class=sidebar-nav-item href=/categories/opinion/ title=opinion>opinion</a></li><li><a class=sidebar-nav-item href=/categories/photography/ title=photography>photography</a></li><li><a class=sidebar-nav-item href=/categories/programming/ title=programming>programming</a></li><li><a class=sidebar-nav-item href=/categories/reviews/ title=reviews>reviews</a></li><li><a class=sidebar-nav-item href=/categories/technology/ title=technology>technology</a></li></ul><aside class=toc><h4>On this page</h4><nav id=TableOfContents><ul><li><a href=#production-worthiness>Production Worthiness</a></li><li><a href=#runtime-model>Runtime Model</a></li><li><a href=#development-models>Development Models</a></li><li><a href=#how-about-php-_and_-python>How About PHP <em>and</em> Python?</a></li></ul></nav></aside><div id=fastSearch><span id=cursor><input id=searchInput tabindex=0 placeholder=search></span><ul id=searchResults></ul></div></nav></div><div id=section2><p><a href=https://tahirhashmi.com/posts/>Articles</a></p></div><div id=logo><a href=/><svg id="svgLogo" baseProfile="full" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 400 100" preserveAspectRatio="xMidYMid"><radialGradient id="logoGradient"><stop offset="30%" stop-color="#00ff80"/><stop offset="67%" stop-color="#00c000"/><stop offset="100%" stop-color="#606000"/></radialGradient><polygon points="0, 67 160, 0 200, 100 240, 0 400, 67 240, 33 200, 67 160, 33" fill="url(#logoGradient)"/></svg></a></div><div id=space><p>Tahir Hashmi</p></div><footer id=footer>mail@tahirhashmi.com
| <a href=https://flickr.com/photos/code_martial/>Flickr</a>
| <a href=https://github.com/codemartial>Github</a>
| <a href=https://www.linkedin.com/in/tahirhashmi>LinkedIn</a>
| <a href=https://twitter.com/code_martial>Twitter</a>
| <a href=https://tahirhashmi.com/posts/index.xml type=.mediatype.type rel=.rel>RSS</a> | &copy; 2022 Tahir Hashmi. All rights reserved.</footer><div class=splash></div><div class=glow></div></body></html>